{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thakshan\\\\Desktop\\\\BookCorner\\\\frontend\\\\src\\\\screens\\\\RegisterScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Button, Row, Col, Form, Container, Alert, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { register } from '../actions/userActions';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport YupPassword from 'yup-password';\nYupPassword(yup);\n\nconst Loader = () => {\n  return /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    style: {\n      width: '100px',\n      height: '100px',\n      margin: 'auto',\n      display: 'block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  });\n};\n\nconst Message = ({\n  variant,\n  children\n}) => {\n  return /*#__PURE__*/React.createElement(Alert, {\n    variant: variant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }\n  }, children);\n};\n\nMessage.defaultProps = {\n  variant: 'info'\n};\n\nconst FormContainer = ({\n  children\n}) => {\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justfy-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, children)));\n};\n\nconst RegisterScreen = ({\n  location,\n  history\n}) => {\n  const dispatch = useDispatch();\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    },\n    validationSchema: yup.object({\n      name: yup.string().max(20, 'Maximum 20 characters only').required(),\n      email: yup.string().email().required(),\n      password: yup.string().required('Password is required').password(),\n      confirmPassword: yup.string().required('Confirm Password is required').oneOf([yup.ref('password'), null], 'Confirm password and password must be same')\n    }),\n    onSubmit: userInputData => {\n      dispatch(register(userInputData.name, userInputData.email, userInputData.password));\n    }\n  });\n  const [message] = useState(null);\n  const userRegister = useSelector(state => state.userRegister);\n  const {\n    loading,\n    error,\n    userInfo\n  } = userRegister;\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, message), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    name: \"name\",\n    placeholder: \"Enter name\",\n    value: formik.values.name,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), formik.errors.name ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, formik.errors.name) : null), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    name: \"email\",\n    value: formik.values.email,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), formik.errors.email ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, formik.errors.email) : null), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    name: \"password\",\n    value: formik.values.password,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), formik.errors.password ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, formik.errors.password) : null), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"confirmPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Confirm password\",\n    name: \"confirmPassword\",\n    value: formik.values.confirmPassword,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }), formik.errors.confirmPassword ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, formik.errors.confirmPassword) : null), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 5\n    },\n    type: \"submit\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"Have an Account?\", ' ', /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? `/login?redirect=${redirect}` : '/login',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, \"Login\"))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"sources":["C:/Users/Thakshan/Desktop/BookCorner/frontend/src/screens/RegisterScreen.js"],"names":["React","useState","useEffect","Button","Row","Col","Form","Container","Alert","Spinner","Link","useDispatch","useSelector","register","useFormik","yup","YupPassword","Loader","width","height","margin","display","Message","variant","children","defaultProps","FormContainer","RegisterScreen","location","history","dispatch","formik","initialValues","name","email","password","confirmPassword","validationSchema","object","string","max","required","oneOf","ref","onSubmit","userInputData","message","userRegister","state","loading","error","userInfo","redirect","search","split","push","handleSubmit","values","handleChange","errors","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n  Button,\n  Row,\n  Col,\n  Form,\n  Container,\n  Alert,\n  Spinner,\n} from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { register } from '../actions/userActions'\nimport { useFormik } from 'formik'\nimport * as yup from 'yup'\nimport YupPassword from 'yup-password'\nYupPassword(yup)\n\nconst Loader = () => {\n  return (\n    <Spinner\n      animation='border'\n      role='status'\n      style={{\n        width: '100px',\n        height: '100px',\n        margin: 'auto',\n        display: 'block',\n      }}\n    ></Spinner>\n  )\n}\n\nconst Message = ({ variant, children }) => {\n  return <Alert variant={variant}>{children}</Alert>\n}\n\nMessage.defaultProps = {\n  variant: 'info',\n}\n\n\n\n\nconst FormContainer = ({ children }) => {\n  return (\n    <Container>\n      <Row className='justfy-content-md-center'>\n        <div xs={12} md={6}>\n          {children}\n        </div>\n      </Row>\n    </Container>\n  )\n}\n\nconst RegisterScreen = ({ location, history }) => {\n  const dispatch = useDispatch()\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n    },\n    validationSchema: yup.object({\n      name: yup.string().max(20, 'Maximum 20 characters only').required(),\n\n      email: yup.string().email().required(),\n\n      password: yup.string().required('Password is required').password(),\n\n      confirmPassword: yup\n        .string()\n        .required('Confirm Password is required')\n        .oneOf(\n          [yup.ref('password'), null],\n          'Confirm password and password must be same'\n        ),\n    }),\n    onSubmit: (userInputData) => {\n      dispatch(register(userInputData.name, userInputData.email, userInputData.password))\n    },\n  })\n\n \n  const [message] = useState(null)\n\n  const userRegister = useSelector((state) => state.userRegister)\n  const { loading, error, userInfo } = userRegister\n\n  const redirect = location.search ? location.search.split('=')[1] : '/'\n\n    useEffect(() => {\n      if (userInfo) {\n        history.push(redirect)\n      }\n    }, [history, userInfo, redirect])\n \n  return (\n    <FormContainer>     \n        <h1>Sign Up</h1>\n        {message && <Message variant='danger'>{message}</Message>}\n        {error && <Message variant='danger'>{error}</Message>}\n        {loading && <Loader />}\n\n        <Form onSubmit={formik.handleSubmit}>\n          <Form.Group controlId='name'>\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              type='name'\n              name='name'\n              placeholder='Enter name'\n              value={formik.values.name}\n              onChange={formik.handleChange}\n            ></Form.Control>\n            {formik.errors.name ? (\n              <div className='text-danger'>{formik.errors.name}</div>\n            ) : null}\n          </Form.Group>\n\n          <Form.Group controlId='email'>\n            <Form.Label>Email Address</Form.Label>\n            <Form.Control\n              type='email'\n              placeholder='Enter email'\n              name='email'\n              value={formik.values.email}\n              onChange={formik.handleChange}\n            ></Form.Control>\n            {formik.errors.email ? (\n              <div className='text-danger'>{formik.errors.email}</div>\n            ) : null}\n          </Form.Group>\n\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type='password'\n              placeholder='Enter password'\n              name='password'\n              value={formik.values.password}\n              onChange={formik.handleChange}\n            ></Form.Control>\n            {formik.errors.password ? (\n              <div className='text-danger'>{formik.errors.password}</div>\n            ) : null}\n          </Form.Group>\n\n          <Form.Group controlId='confirmPassword'>\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control\n              type='password'\n              placeholder='Confirm password'\n              name='confirmPassword'\n              value={formik.values.confirmPassword}\n              onChange={formik.handleChange}\n            ></Form.Control>\n            {formik.errors.confirmPassword ? (\n              <div className='text-danger'>{formik.errors.confirmPassword}</div>\n            ) : null}\n          </Form.Group>\n\n          <Button style={{ marginTop: 5 }} type='submit' variant='primary'>\n            Register\n          </Button>\n        </Form>\n\n        <Row className='py-3'>\n          <Col>\n            Have an Account?{' '}\n            <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\n              Login\n            </Link>\n          </Col>\n        </Row>\n     \n    </FormContainer>\n  )\n}\n\nexport default RegisterScreen\n"]},"metadata":{},"sourceType":"module"}